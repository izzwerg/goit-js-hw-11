{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nform.addEventListener('submit', imageSearch);\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst BASE_URL = 'https://pixabay.com/api';\nconst API_KEY = '11329962-6436ba51ddb58bb96deed169a';\n\nfunction imageSearch(e) {\n  e.preventDefault();\n  gallery.innerHTML = '';\n  loader.classList.add('is-visible');\n\n  const form = e.currentTarget;\n  const searchTerm = form.elements.searchTerm.value;\n\n  console.log(searchTerm);\n  getImages(searchTerm)\n    .then((images) => {\n        console.log(images);\n        if (images = {}) {\n            errMessage();\n        } else {\n            \n        }\n    })\n    .finally(() => form.reset());\n}\n\nfunction getImages(searchTerm) {\n  const urlParams = new URLSearchParams({\n    key: API_KEY,\n    q: searchTerm,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    per_page: 9,\n  });\n\n  return fetch(`${BASE_URL}/?${urlParams}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.statusText);\n    }\n    return res.json();\n  });\n}\n\nfunction errMessage() {\n    iziToast.show({\n      position: 'topRight',\n      messageColor: 'white',\n      iconUrl: 'error.svg',\n      iconColor: 'white',\n      color: '#EF4040',\n      message: 'Sorry, there are no images matching your search query. Please try again!',\n    });\n    loader.classList.remove('is-visible');\n  };"],"names":["form","imageSearch","gallery","loader","BASE_URL","API_KEY","e","searchTerm","getImages","images","errMessage","urlParams","res","iziToast"],"mappings":"svBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,CAAW,EAC3C,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAW,0BACXC,EAAU,qCAEhB,SAASJ,EAAYK,EAAG,CACtBA,EAAE,eAAc,EAChBJ,EAAQ,UAAY,GACpBC,EAAO,UAAU,IAAI,YAAY,EAEjC,MAAMH,EAAOM,EAAE,cACTC,EAAaP,EAAK,SAAS,WAAW,MAE5C,QAAQ,IAAIO,CAAU,EACtBC,EAAUD,CAAU,EACjB,KAAME,GAAW,CACd,QAAQ,IAAIA,CAAM,GACdA,EAAS,CAAA,IACTC,GAIZ,CAAK,EACA,QAAQ,IAAMV,EAAK,MAAK,CAAE,CAC/B,CAEA,SAASQ,EAAUD,EAAY,CAC7B,MAAMI,EAAY,IAAI,gBAAgB,CACpC,IAAKN,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,CACd,CAAG,EAED,OAAO,MAAM,GAAGH,MAAaO,GAAW,EAAE,KAAKC,GAAO,CACpD,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,UAAU,EAEhC,OAAOA,EAAI,MACf,CAAG,CACH,CAEA,SAASF,GAAa,CAClBG,EAAS,KAAK,CACZ,SAAU,WACV,aAAc,QACd,QAAS,YACT,UAAW,QACX,MAAO,UACP,QAAS,0EACf,CAAK,EACDV,EAAO,UAAU,OAAO,YAAY,CACxC"}